<template>
    <template if:true={isLoading} style="height: 200px; position:relative">
        <lightning-spinner variant="base" size="medium"></lightning-spinner>
    </template>
    <template if:true={isError}>
        <b><span style="color: #a30808;">{errorMessage}</span></b>
    </template>
    <!-- To Display Success Message-->
    <template if:true={isSuccess}>
        <b><span style="height:30px;width:150px;font-size:15px;color:#04844b;font-family:Arial;" >{successMessage}</span></b>
    </template>
    <template if:false={showInitiateCancellation}>
        <div class="slds-is-relative">
            <lightning-button label="Initiate Cancellation" onclick={nextStep} title="Refund Breakup" variant="success" class="slds-align_absolute-center"></lightning-button>
        </div>
    </template>
    <template if:true={showInitiateCancellation}> 
        <div class="c-container">
            <lightning-layout multiple-rows="true">
                <lightning-layout-item  size="12">
                        <lightning-layout-item  size="9">
                            <div style="background: #fcfcfc;" class="slds-box slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none">
                            <!-- To Display Success Message-->
                            <!-- <template if:true={isSuccess}>
                                <b><span style="height:30px;width:150px;font-size:15px;color:#04844b;font-family:Arial;" >{successMessage}</span></b>
                            </template> -->
                        <!-- 1st Row in the layout -->
                        <!-- To Display Error Message-->
                            <template if:true={isError}>
                                <b><span style="color: #a30808;">{errorMessage}</span></b>
                            </template>
                        <!-- 1st Row in the layout -->
                                <lightning-layout  multiple-rows="true">
                                    <lightning-layout-item padding="around-small" size="12" small-device-size="6" medium-device-size="4" large-device-size="4">
                                        <lightning-input type="text" label="Max Refundable Amount" value={maxRefundAmount} data-field-name="Max_Refundable_Amount" disabled="true"></lightning-input>
                                    </lightning-layout-item>
                                    <lightning-layout-item padding="around-small" size="12" small-device-size="6" medium-device-size="4" large-device-size="4">
                                        <lightning-input type="number" name="Amount to Refunded" label="Amount to be Refunded" data-field-name="Amount_to_Refunded" required ></lightning-input>
                                    </lightning-layout-item> 
                                    <lightning-layout-item padding="around-small" size="12" small-device-size="6" medium-device-size="4" large-device-size="4">
                                        <lightning-combobox label="Refund Reason" data-field-name="Refund_Reason" required value="" onchange={handleRefundReasonChange} options={refundReasonOptions}></lightning-combobox>
                                    </lightning-layout-item> 
                                </lightning-layout>
                                <lightning-layout  multiple-rows="true">
                                    <lightning-layout-item padding="around-small" size="12" small-device-size="6" medium-device-size="4" large-device-size="4">
                                        <lightning-input type="text" name="Parent Case" label="Parent Case Number" data-field-name="Parent_Case_Number" required></lightning-input>
                                    </lightning-layout-item>
                                    <lightning-layout-item padding="around-small" size="12" small-device-size="6" medium-device-size="4" large-device-size="4">
                                        <lightning-input value="" type="text" name="Refund Description" label="Refund Description" data-field-name="Refund_Description" required ></lightning-input>
                                    </lightning-layout-item>
                                </lightning-layout>
                                <div style="padding:0.3rem">
                                    <lightning-button label="Submit For Approval" class="slds-align_absolute-center" variant="success" slot="actions" onclick={handleSubmitChange}></lightning-button>
                                </div> 
                            </div>
                        </lightning-layout-item>
                </lightning-layout-item>   
            </lightning-layout>
        </div>
    </template>  
</template>