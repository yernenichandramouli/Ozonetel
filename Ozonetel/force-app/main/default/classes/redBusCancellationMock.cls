@isTest
global class redBusCancellationMock implements HttpCalloutMock
{
  global HttpResponse respond(HTTPRequest req)
  {
    HttpResponse res = new HttpResponse();
    res.setStatus('OK');
    res.setStatusCode(200);
  //  res.setBody('{"ticketNo":"1234567","emailId":"xx@gmail.com","emailId":"xx@gmail.com","PaymentStatus":"SUCCESS","message":"Cancellation_Failed","Code":"500","DetailedMessage":"Online","refundType":"BACK_TO_PAYMENT","tin":"122344","cancellationReason":"REQUESTED_BY_USER","cancellationType":"1","isTicketCancellable":"false","ResponseMessage":"fdgdsf","RefundAmount":"800","CancellationCharges":"200","NewTin":"23454"}');
    
    //res.setBody('{"toCityName":"Hyderabad","fromCityName":"Vijayawada","dateOfJourney":"June 19 2017, Monday","travelsName":"APSRTC","busType":"GARUDA(VOLVO / BENZ A.C. SEMI SLEEPER)","boardingTime":"11:15 PM","arrivalTime":"4:50 AM","boardingPoint":"VIJAYAWADA","duration":"5hrs 35min","paymentMode":null,"cardNumber":null,"cardType":"CC","totalAmountPaid":"611.00","insuranceCharges":"0.00","serviceTax":"","cashCouponValue":0.0,"baseFare":611.0,"message":"","isPartialCancellation":false,"isTicketCancellable":true,"discount":"75.30","refundTypeCSV":"","notes":null,"refundModes":[{"refundModeType":"WALLET_RECHARGE","refundDetails":"Get Instant Refund of Rs.465.7 to your redBus Wallet!","totalRefundValue":465.7,"refundVos":[{"refundObjectType":"WALLET_RECHARGE","refundValue":465.7,"refundDetail":"Rs.465.7 will be refunded to your Wallet"}]},{"refundModeType":"BACK_TO_PAYMENT","refundDetails":"Refund my Rs.465.7 Back to Source. (This can take 5-7days)","totalRefundValue":465.7,"refundVos":[{"refundObjectType":"OnlinePG","refundValue":465.7,"refundDetail":"Rs.465.7 will be refunded to your Card"}]}],"lstPassengerInfo":[{"passengerName":"Ramakrishna","sex":"male","age":"30","seat":"16"}],"refundTypesList":["WALLET_RECHARGE","BACK_TO_PAYMENT"],"totalDiscount":75.3,"ticketFare":611.0,"totalTax":0.0,"operatorDiscount":0.0,"fullCancellationBreakUp":{"fareWithSeat":[{"seatName":"16","fareresponse":{"fare":"611.00","refAmount":"465.70","canCharge":"0.00","serviceTax":"0","insuranceCharges":"0","nonRefAmount":"70.00","offerValue":"75.30"},"showFarebreakup":true,"fareSummarydict":{"Basic Fare":{"value":502.0,"refundableValue":502.0},"Reservation Fee":{"value":20.0,"refundableValue":0.0},"Levy Fee":{"value":50.0,"refundableValue":15.0},"Toll Fee":{"value":24.0,"refundableValue":24.0},"Service Fee":{"value":0.0,"refundableValue":0.0},"Total Fare":{"value":596.0,"refundableValue":541.0}},"fareSummary":[{"Key":"Fare","Value":{"value":611.00,"refundableValue":465.70}}]}],"TotalFare":"611.00","RefundAmount":"465.70","currency":null},"partialCancellationBreakUp":null,"cancellationPolicy":[{"cancellationString":"After 08:00 PM on 19th Jun","cancellationCharge":"50%","cancellationPercentage":null},{"cancellationString":"Between 10:00 PM on 18th Jun - 08:00 PM on 19th Jun","cancellationCharge":"25%","cancellationPercentage":null},{"cancellationString":"Between 10:00 PM on 17th Jun - 10:00 PM on 18th Jun","cancellationCharge":"10%","cancellationPercentage":null},{"cancellationString":"Till 10:00 PM on 17th Jun","cancellationCharge":"0%","cancellationPercentage":null}],"currencytype":"INR","currentCancellationPolicyIntl":null,"refundableAmount":0.0,"cancellationcharges":0.0,"isZcafeApplied":null,"zcafeDuration":null,"zcafeSponsoredByRedbus":null}');
   // "fullCancellationBreakUp":{"fareWithSeat":[{"seatName":"16","fareresponse":{"fare":"611.00","refAmount":"465.70","canCharge":"0.00","serviceTax":"0","insuranceCharges":"0","nonRefAmount":"70.00","offerValue":"75.30"},"showFarebreakup":true,"fareSummarydict":{"Basic Fare":{"value":502,"refundableValue":502},"Reservation Fee":{"value":20,"refundableValue":0},"Levy Fee":{"value":50,"refundableValue":15},"Toll Fee":{"value":24,"refundableValue":24},"Service Fee":{"value":0,"refundableValue":0},"Total Fare":{"value":596,"refundableValue":541}},"fareSummary":[{"Key":"Fare","Value":{"value":611,"refundableValue":465.7}}]}],"TotalFare":"611.00","RefundAmount":"465.70","currency":null}
    //  res.setBody('{"addons":[{"refundableAmount":10,"fare":15},{"refundableAmount":15,"fare":20}],"ticketNo":"1234567","emailId":"xx@gmail.com","emailId":"xx@gmail.com","PaymentStatus":"SUCCESS","message":"Cancellation_Failed","Code":"400.56","DetailedMessage":"Online","refundType":"BACK_TO_PAYMENT","tin":"122344","cancellationReason":"REQUESTED_BY_USER","cancellationType":"1","isTicketCancellable":"false","ResponseMessage":"fdgdsf","RefundAmount":"80.0","CancellationCharges":"200","NewTin":"23454", "fullCancellationBreakUp":{"fareWithSeat":[{"seatName":"16","fareresponse":{"fare":"611.00","refAmount":"465.70","canCharge":"0.00","serviceTax":"0","insuranceCharges":"0","nonRefAmount":"70.00","offerValue":"75.30"},"showFarebreakup":true,"fareSummarydict":{"Basic Fare":{"value":502,"refundableValue":502},"Reservation Fee":{"value":20,"refundableValue":0},"Levy Fee":{"value":50,"refundableValue":15},"Toll Fee":{"value":24,"refundableValue":24},"Service Fee":{"value":0,"refundableValue":0},"Total Fare":{"value":596,"refundableValue":541}},"fareSummary":[{"Key":"Fare","Value":{"value":611,"refundableValue":465.7}}]}],"TotalFare":"611.00","RefundAmount":"465.70","currency":null}}');
    res.setBody('{"refundModes":null,"insuranceCharges":"","totalFare":3074.5,"refundAmount":1281.0,"cancellationcharges":1470.0,"totalPaid":2824.5,"currencyType":"INR","fullCancellationBreakUp":{"fareWithSeat":[{"seatName":"S31,S32,S23,S28,S27","fareresponse":{"fare":"3074.5","refAmount":"1281.0","canCharge":"1470.0","serviceTax":null,"BusOperatorGST":"134.5","insuranceCharges":"","nonRefAmount":"73.5","offerValue":"250.0","GST":null},"showFarebreakup":false,"fareSummarydict":null,"fareSummary":[{"Key":"Fare","Value":{"value":3074.5,"refundableValue":1281.0}}]}],"TotalFare":"3074.5","RefundAmount":"1281.0","currency":"INR","CancelCharge":"1793.5"},"partialCancellationBreakUp":{"fareWithSeat":[{"seatName":"S31","fareresponse":{"fare":"614.9","refAmount":"320.9","canCharge":"294.0","serviceTax":null,"BusOperatorGST":null,"insuranceCharges":"","nonRefAmount":null,"offerValue":null,"GST":"134.5"},"showFarebreakup":false,"fareSummarydict":null,"fareSummary":null},{"seatName":"S32","fareresponse":{"fare":"614.9","refAmount":"320.9","canCharge":"294.0","serviceTax":null,"BusOperatorGST":null,"insuranceCharges":"","nonRefAmount":null,"offerValue":null,"GST":"134.5"},"showFarebreakup":false,"fareSummarydict":null,"fareSummary":null},{"seatName":"S23","fareresponse":{"fare":"614.9","refAmount":"320.9","canCharge":"294.0","serviceTax":null,"BusOperatorGST":null,"insuranceCharges":"","nonRefAmount":null,"offerValue":null,"GST":"134.5"},"showFarebreakup":false,"fareSummarydict":null,"fareSummary":null},{"seatName":"S28","fareresponse":{"fare":"614.9","refAmount":"320.9","canCharge":"294.0","serviceTax":null,"BusOperatorGST":null,"insuranceCharges":"","nonRefAmount":null,"offerValue":null,"GST":"134.5"},"showFarebreakup":false,"fareSummarydict":null,"fareSummary":null},{"seatName":"S27","fareresponse":{"fare":"614.9","refAmount":"320.9","canCharge":"294.0","serviceTax":null,"BusOperatorGST":null,"insuranceCharges":"","nonRefAmount":null,"offerValue":null,"GST":"134.5"},"showFarebreakup":false,"fareSummarydict":null,"fareSummary":null}],"TotalFare":"3074.5","RefundAmount":"1281.0","currency":"INR","CancelCharge":"1793.5"},"Message":null,"isTicketCancellable":true,"isBackToWalletEnable":false,"items":[{"totalFare":3074.5,"refundAmount":1281.0,"totalPaid":2824.5,"itemName":null,"itemType":"BUS","itemUuid":null,"refundBreakUp":[{"amount":2940.0,"refundAmount":1470.0,"displayName":"Base Fare","nonRefundAmount":1470.0},{"amount":134.5,"refundAmount":134.5,"displayName":"Bus Operator GST","nonRefundAmount":0.0}],"offerBreakUp":[{"amount":250.0,"refundAmount":0.0,"nonRefundAmount":250.0,"displayName":"redDeal"}],"cancelPolicy":[{"cancellationString":"After 05:55 PM on 13th Jun","chargeExact":"100%","chargePerc":null,"refundableAmount":null,"currentSlot":false,"endDateTime":null,"startDateTime":null},{"cancellationString":"Between 11:55 AM on 13th Jun - 05:55 PM on 13th Jun","chargeExact":"50%","chargePerc":null,"refundableAmount":null,"currentSlot":false,"endDateTime":null,"startDateTime":null},{"cancellationString":"Between 11:55 PM on 12th Jun - 11:55 AM on 13th Jun","chargeExact":"25%","chargePerc":null,"refundableAmount":null,"currentSlot":true,"endDateTime":null,"startDateTime":null},{"cancellationString":"Between 11:55 PM on 10th Jun - 11:55 PM on 12th Jun","chargeExact":"20%","chargePerc":null,"refundableAmount":null,"currentSlot":false,"endDateTime":null,"startDateTime":null},{"cancellationString":"Between 11:55 PM on 6th Jun - 11:55 PM on 10th Jun","chargeExact":"15%","chargePerc":null,"refundableAmount":null,"currentSlot":false,"endDateTime":null,"startDateTime":null},{"cancellationString":"Till 11:55 PM on 6th Jun","chargeExact":"10%","chargePerc":null,"refundableAmount":null,"currentSlot":false,"endDateTime":null,"startDateTime":null}],"wngMsg":["Cancellation charges are computed on a per seat basis. Above cancellation fare is calculated based on seat fare of â‚¹2940.0","Cancellation charges are calculated based on service start date + time at : 13-Jun-2024 23:55","Note: Cancellation charges mentioned above are excluding GST","For group bookings individual seats can be cancelled.","Ticket cannot be cancelled after scheduled bus departure time from the first boarding point","Note: Cancellation charges mentioned above are excluding GST"],"quantity":0,"title":"","subTitle":"","isCancellable":true,"totalPaidText":null,"ProtectPlanText":null,"CoverGeniusText":null,"isTravelProtectPlanOpted":false,"isCoverGeniusOpted":false,"currency":null,"isAddOnCancellable":false}],"tcpPromotionalText":null,"tnc":[{"txt":"Certain fees collected are not refundable","hlt":""},{"txt":"Deductions are done as per cancellation policy","hlt":"cancellation policy"}],"TravelProtectRefundText":null,"CoverGeniusRefundText":null,"travelProtectPlanRefundClaim":null,"travelProtectPlanRefundInstr":null,"CoverGeniusRefundClaim":null,"CoverGeniusRefundInstr":null,"tin":null,"RescheduleFareBreakUp":[{"Type":"Total_Fare","DisplayName":"Total Fare","Value":{"currencyType":"INR","amount":3074.5}},{"Type":"OFFERS","DisplayName":"Offers Used","Value":{"currencyType":"INR","amount":250.0}},{"Type":"Reschedule Amount","DisplayName":"Amount available for booking","Value":{"currencyType":"INR","amount":2824.5}}],"IsReschedulable":true,"ReschedulePolicyMsg":"You can reschedule this journey till 13 Jun 10:00 PM","isPartialCancellation":true,"addons":null}');
    return res;
  }
}